# ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ - –í–´–ü–û–õ–ù–ï–ù–û

## üéØ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é!

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ —Å 4 —Ä–æ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## üë• –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 1. **Admin** (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
- ‚úÖ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∏—Ö —Ä–æ–ª—è–º–∏
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º
- ‚úÖ –í—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ

### 2. **Chief Mechanic** (–ì–ª–∞–≤–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∫)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- ‚úÖ –°–∫–ª–∞–¥ (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
- ‚úÖ –û—Ç—á–µ—Ç—ã (—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ + —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
- ‚úÖ –í—Å–µ –≤–∫–ª–∞–¥–∫–∏, –∫—Ä–æ–º–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–¥–º–∏–Ω–∞
- ‚ùå –ù–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 3. **Accountant** (–ë—É—Ö–≥–∞–ª—Ç–µ—Ä)
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ)
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–∫–ª–∞–¥–∞ (—Ä–∞—Å—Ö–æ–¥/–ø—Ä–∏—Ö–æ–¥)
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤
- ‚ùå –ù–µ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
- ‚ùå –ù–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏
- ‚ùå –ù–µ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ
- ‚ùå –°–∫—Ä—ã—Ç—ã –∫–Ω–æ–ø–∫–∏ "–î–æ–±–∞–≤–∏—Ç—å", "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å", "–£–¥–∞–ª–∏—Ç—å"

### 4. **Mechanic** (–ú–µ—Ö–∞–Ω–∏–∫)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á (Work Orders)
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–∫–ª–∞–¥–∞ (–±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤)
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- ‚ùå –ù–µ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ–∫-–ª–∏—Å—Ç—ã
- ‚ùå –°–∫—Ä—ã—Ç—ã –≤–∫–ª–∞–¥–∫–∏ "–û—Ç—á–µ—Ç—ã" –∏ "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏"
- ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–ø–∏—Å–∞–Ω–∏–µ –≤ –∑–∞–∫–∞–∑–µ

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### Backend:

```
backend/src/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ User.ts                    ‚Üê MongoDB –º–æ–¥–µ–ª—å —Å —Ä–æ–ª—è–º–∏
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îî‚îÄ‚îÄ user.controller.ts         ‚Üê CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îî‚îÄ‚îÄ routes/
    ‚îî‚îÄ‚îÄ user.routes.ts             ‚Üê API endpoints –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

### Frontend:

```
src/
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ permissions.ts             ‚Üê Enum —Ä–æ–ª–µ–π –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Permissions
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ permissions.ts             ‚Üê –§—É–Ω–∫—Ü–∏—è getPermissions()
‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.tsx            ‚Üê –û–±–Ω–æ–≤–ª–µ–Ω —Å userProfile –∏ permissions
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ usePermissions.ts          ‚Üê –•—É–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ RoleBasedRoute.tsx         ‚Üê –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ —Ä–æ–ª—è–º
‚îÇ   ‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Can.tsx                ‚Üê –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
‚îÇ   ‚îî‚îÄ‚îÄ layout/
‚îÇ       ‚îú‚îÄ‚îÄ Navbar.tsx             ‚Üê –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ       ‚îú‚îÄ‚îÄ Navbar.scss            ‚Üê –°—Ç–∏–ª–∏ –¥–ª—è role badges
‚îÇ       ‚îî‚îÄ‚îÄ Sidebar.tsx            ‚Üê –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ–Ω—é –ø–æ –ø—Ä–∞–≤–∞–º
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ Inventory/
‚îÇ       ‚îî‚îÄ‚îÄ Inventory.tsx          ‚Üê –ü—Ä–∏–º–µ—Ä —Å permissions
‚îî‚îÄ‚îÄ router/
    ‚îî‚îÄ‚îÄ AppRouter.tsx              ‚Üê –†–æ—É—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã RoleBasedRoute
```

---

## üîê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ Admin

**Email:** `vadimlavrenchuk@yahoo.com`

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ —ç—Ç–æ–≥–æ email –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å **Admin**.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö:
1. **MongoDB pre-save hook** –≤ User –º–æ–¥–µ–ª–∏
2. **Backend controller** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üõ°Ô∏è –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

### –¢–∏–ø—ã –ø—Ä–∞–≤ (Permissions):

#### –ù–∞–≤–∏–≥–∞—Ü–∏—è:
- `canAccessDashboard`
- `canAccessWorkOrders`
- `canAccessInventory`
- `canAccessEquipment`
- `canAccessReports`
- `canAccessEmployees`
- `canAccessSettings`

#### Work Orders:
- `canCreateWorkOrders`
- `canEditWorkOrders`
- `canDeleteWorkOrders`
- `canAssignWorkOrders`

#### Inventory:
- `canViewInventory`
- `canAddInventory`
- `canEditInventory`
- `canDeleteInventory`
- `canAdjustStock`

#### Equipment:
- `canViewEquipment`
- `canAddEquipment`
- `canEditEquipment`
- `canDeleteEquipment`
- `canCreateChecklists`

#### Reports:
- `canViewFinancialReports`
- `canViewEfficiencyReports`
- `canExportReports`

#### Employees:
- `canViewEmployees`
- `canAddEmployees`
- `canEditEmployees`
- `canDeleteEmployees`
- `canManageRoles`

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤

```typescript
// AppRouter.tsx
<Route 
  path="reports" 
  element={
    <RoleBasedRoute allowedRoles={[UserRole.ADMIN, UserRole.CHIEF_MECHANIC, UserRole.ACCOUNTANT]}>
      <Reports />
    </RoleBasedRoute>
  } 
/>
```

### 2. –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–Ω–æ–ø–æ–∫

```typescript
// Inventory.tsx
<Can perform="canAddInventory">
  <Button onClick={() => setIsAddModalOpen(true)}>
    Add New Item
  </Button>
</Can>
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–∞ permissions

```typescript
const { can, isAdmin, userRole } = usePermissions();

if (can('canEditInventory')) {
  // Show edit button
}

if (isAdmin) {
  // Show admin panel
}
```

### 4. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ–Ω—é –≤ Sidebar

```typescript
const visibleMenuItems = menuItems.filter(item => 
  !item.permission || can(item.permission)
);
```

---

## üé® UI Features

### Role Badges –≤ Header
–í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

- üî¥ **Admin** - –∫—Ä–∞—Å–Ω—ã–π badge
- üîµ **Chief Mechanic** - —Å–∏–Ω–∏–π badge  
- üü¢ **Accountant** - –∑–µ–ª–µ–Ω—ã–π badge
- üü† **Mechanic** - –æ—Ä–∞–Ω–∂–µ–≤—ã–π badge

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é
Sidebar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã:

- **Admin**: –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã
- **Chief Mechanic**: –≤—Å–µ –∫—Ä–æ–º–µ Settings
- **Accountant**: Dashboard, Inventory, Reports
- **Mechanic**: Dashboard, Work Orders, Inventory, Equipment

### –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –¥–ª—è —Ä–æ–ª–µ–π –±–µ–∑ –ø—Ä–∞–≤:

- Accountant –Ω–µ –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫–∏ Add/Edit/Delete –≤ Inventory
- Mechanic –Ω–µ –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞—Ç–∫–∏
- –¢–æ–ª—å–∫–æ Admin –∏ Chief –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏

---

## üîÑ –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–í—Ö–æ–¥
```
User ‚Üí Firebase Auth ‚Üí Backend API
                     ‚Üì
        POST /api/users (create/update)
                     ‚Üì
            MongoDB User Model
                     ‚Üì
        Auto-assign role based on email
                     ‚Üì
        Return user profile with role
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∞–≤
```
AuthContext ‚Üí fetchUserProfile()
           ‚Üì
    User Profile from API
           ‚Üì
    getPermissions(role)
           ‚Üì
    Permissions object stored in context
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
```
Component ‚Üí usePermissions()
         ‚Üì
    can('permissionName')
         ‚Üì
    true/false ‚Üí Show/Hide UI element
```

---

## üöÄ API Endpoints

### User Management

```
GET    /api/users                 - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
GET    /api/users/email/:email    - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email
POST   /api/users                 - –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
PATCH  /api/users/:id/role        - –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DELETE /api/users/:id             - –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### Example Request:

```bash
# Create/Update User
POST http://localhost:3000/api/users
Content-Type: application/json

{
  "email": "user@example.com",
  "name": "John Doe",
  "role": "mechanic",
  "firebaseUid": "firebase_uid_here",
  "photoURL": "https://..."
}
```

---

## üìä –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

| –§—É–Ω–∫—Ü–∏—è | Admin | Chief Mechanic | Accountant | Mechanic |
|---------|-------|----------------|------------|----------|
| Dashboard | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Work Orders - View | ‚úÖ | ‚úÖ | ‚ùå | ‚úÖ |
| Work Orders - Create | ‚úÖ | ‚úÖ | ‚ùå | ‚úÖ |
| Work Orders - Edit | ‚úÖ | ‚úÖ | ‚ùå | ‚úÖ (—Å–≤–æ–∏) |
| Work Orders - Delete | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Inventory - View | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Inventory - Add | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Inventory - Edit | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Inventory - Adjust Stock | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Equipment - View | ‚úÖ | ‚úÖ | ‚ùå | ‚úÖ |
| Equipment - Manage | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Checklists - Create | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Reports - Financial | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå |
| Reports - Efficiency | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Employees - View | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Employees - Manage | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Manage Roles | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |
| Settings | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```bash
# Admin (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
Email: vadimlavrenchuk@yahoo.com
Role: admin (auto-assigned)

# Chief Mechanic
Email: chief@example.com
Role: chief_mechanic (set manually or via API)

# Accountant  
Email: accountant@example.com
Role: accountant

# Mechanic
Email: mechanic@example.com
Role: mechanic (default)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤:

1. **–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ Mechanic**
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å `/reports` ‚Üí –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–Ω–æ–ø–æ–∫ –≤ Inventory

2. **–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ Accountant**
   - –°–∫–ª–∞–¥ –¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ –Ω–µ—Ç –∫–Ω–æ–ø–æ–∫ Add/Edit/Delete
   - Reports –¥–æ—Å—Ç—É–ø–Ω—ã, –Ω–æ —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ

3. **–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ Chief Mechanic**
   - –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∫—Ä–æ–º–µ Settings
   - –ú–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏

4. **–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ Admin**
   - –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ü—Ä–∞–≤–∞ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ—Ñ–∏–ª—è
- –•—Ä–∞–Ω—è—Ç—Å—è –≤ AuthContext –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –ù–µ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ - O(1) –æ–ø–µ—Ä–∞—Ü–∏—è

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Frontend Protection:
‚úÖ RoleBasedRoute –±–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø  
‚úÖ UI —ç–ª–µ–º–µ–Ω—Ç—ã —Å–∫—Ä—ã—Ç—ã –¥–ª—è —Ä–æ–ª–µ–π –±–µ–∑ –ø—Ä–∞–≤  
‚úÖ Sidebar —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

### Backend Protection (TODO):
‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π –Ω–∞ backend:

```typescript
// middleware/auth.middleware.ts
export const requireRole = (allowedRoles: UserRole[]) => {
  return async (req, res, next) => {
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ–ª—å –∏–∑ JWT token
    // –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ä–æ–ª—å –≤ allowedRoles
  };
};

// Usage in routes:
router.delete('/:id', requireRole([UserRole.ADMIN]), deleteInventory);
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏

```typescript
// Update user role via API
const changeUserRole = async (userId: string, newRole: UserRole) => {
  await axios.patch(`/api/users/${userId}/role`, { role: newRole });
  // Refresh user profile
  await refreshUserProfile();
};
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π

```typescript
const { hasRole } = usePermissions();

if (hasRole([UserRole.ADMIN, UserRole.CHIEF_MECHANIC])) {
  // Show management features
}
```

### 3. Fallback UI –¥–ª—è Can –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```typescript
<Can 
  perform="canEditInventory"
  fallback={<div>–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</div>}
>
  <EditButton />
</Can>
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

- [x] User Model –≤ MongoDB —Å –ø–æ–ª—è–º–∏: email, name, role
- [x] Enum –¥–ª—è —Ä–æ–ª–µ–π: admin, chief_mechanic, accountant, mechanic
- [x] Backend API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- [x] AuthContext –æ–±–Ω–æ–≤–ª–µ–Ω —Å userProfile –∏ permissions
- [x] –§—É–Ω–∫—Ü–∏—è getPermissions() –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏
- [x] usePermissions() —Ö—É–∫
- [x] RoleBasedRoute –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [x] Can –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- [x] AppRouter —Å –∑–∞—â–∏—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç–æ–≤
- [x] Sidebar —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –ø—Ä–∞–≤–∞–º
- [x] Navbar —Å role badges
- [x] Inventory –æ–±–Ω–æ–≤–ª–µ–Ω —Å permissions
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ admin –¥–ª—è vadimlavrenchuk@yahoo.com
- [x] –ó–∞—â–∏—Ç–∞ –æ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ URL
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:

‚úÖ **4 —Ä–æ–ª–∏** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π admin** –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ email  
‚úÖ **Frontend –∑–∞—â–∏—Ç–∞** –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ UI  
‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏  
‚úÖ **Role badges** –≤ header  
‚úÖ **–ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ permissions**  
‚úÖ **–õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

---

## üìñ –°–º. —Ç–∞–∫–∂–µ:

- [FIREBASE_AUTH_COMPLETE.md](./FIREBASE_AUTH_COMPLETE.md) - Firebase –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- [BACKEND_COMPLETE.md](./BACKEND_COMPLETE.md) - Backend API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- Backend User API: `http://localhost:3000/api/users`
