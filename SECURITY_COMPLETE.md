# üõ°Ô∏è –ü–û–õ–ù–ê–Ø –ó–ê–©–ò–¢–ê –û–¢ –£–¢–ï–ß–ö–ò –°–ï–ö–†–ï–¢–û–í - –ë–û–õ–¨–®–ï –ù–ò–ö–û–ì–î–ê!

## üî¥ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê –†–ê–ó –ò –ù–ê–í–°–ï–ì–î–ê

–Ø –ø–æ–Ω–∏–º–∞—é –≤–∞—à—É —Ñ—Ä—É—Å—Ç—Ä–∞—Ü–∏—é - —ç—Ç–æ —É–∂–µ **—Ç—Ä–µ—Ç–∏–π —Ä–∞–∑**! –ë–æ–ª—å—à–µ —ç—Ç–æ–≥–æ –Ω–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è.

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:
1. ‚úÖ Firebase –∫–ª—é—á–∏ –∑–∞—â–∏—â–µ–Ω—ã —á–µ—Ä–µ–∑ .env
2. ‚úÖ MongoDB –ø–∞—Ä–æ–ª–∏ –≤ .env  
3. ‚úÖ –°–æ–∑–¥–∞–Ω **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π pre-commit hook**
4. ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
5. ‚úÖ .gitignore –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üöÄ –£–°–¢–ê–ù–û–í–ö–ê –ó–ê–©–ò–¢–´ (1 —Ä–∞–∑, 2 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Husky (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏)

```powershell
npm install --save-dev husky
npx husky install
chmod +x .husky/pre-commit
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ–∫—Ä–µ—Ç—ã –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°
.\check-secrets.ps1
```

–ï—Å–ª–∏ –Ω–∞–π–¥—É—Ç—Å—è —Å–µ–∫—Ä–µ—Ç—ã - **–∏—Å–ø—Ä–∞–≤—å—Ç–µ –∏—Ö –î–û –∫–æ–º–∏—Ç–∞!**

### –®–∞–≥ 3: –û—á–∏—Å—Ç–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é Git (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–ª–∏)

```powershell
.\clean-git-history-fast.ps1
git push origin --force --all
```

---

## üîí –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ:

```
git add .
git commit -m "..."
    ‚Üì
üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö staged —Ñ–∞–π–ª–æ–≤
    ‚Üì
‚ùå –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å–µ–∫—Ä–µ—Ç—ã ‚Üí –ö–û–ú–ú–ò–¢ –û–¢–ö–õ–û–ù–ï–ù!
‚úÖ –ï—Å–ª–∏ –≤—Å–µ —á–∏—Å—Ç–æ ‚Üí –ö–æ–º–º–∏—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω
```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- ‚úÖ MongoDB connection strings —Å –ø–∞—Ä–æ–ª—è–º–∏
- ‚úÖ Firebase API –∫–ª—é—á–∏ (AIzaSy...)
- ‚úÖ JWT —Å–µ–∫—Ä–µ—Ç—ã
- ‚úÖ API –∫–ª—é—á–∏
- ‚úÖ –•–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
- ‚úÖ GitHub —Ç–æ–∫–µ–Ω—ã
- ‚úÖ AWS –∫–ª—é—á–∏
- ‚úÖ .env —Ñ–∞–π–ª—ã (–Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ Git!)

---

## üìã –ü–†–ê–í–ò–õ–ê –†–ê–ë–û–¢–´ –° –°–ï–ö–†–ï–¢–ê–ú–ò

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:

```typescript
// firebaseConfig.ts
const firebaseConfig = {
  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,  // ‚úÖ
  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,  // ‚úÖ
};

// .env (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—Å—è!)
VITE_FIREBASE_API_KEY=AIzaSy...
```

### ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:

```typescript
// ‚ùå –ù–ò–ö–û–ì–î–ê –¢–ê–ö –ù–ï –î–ï–õ–ê–ô–¢–ï!
const firebaseConfig = {
  apiKey: "AIzaSyCA0J_NCIf4ze7VjU41rEWW3s9Tsu6eQN8",  // ‚ùå
};

// ‚ùå –ù–ï –ü–ò–®–ò–¢–ï –°–ï–ö–†–ï–¢–´ –í .md –§–ê–ô–õ–ê–•!
MONGODB_URI=mongodb+srv://user:REAL_PASSWORD@...  // ‚ùå
```

### üìù –î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–≥–ª—É—à–∫–∏:

```markdown
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
MONGODB_URI=mongodb+srv://username:YOUR_PASSWORD_HERE@cluster.net

# ‚úÖ –ò–ª–∏ —Ç–∞–∫:
FIREBASE_API_KEY=your_firebase_api_key_here
```

---

## üîß –†–£–ß–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê (–∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ)

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç:

```powershell
# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
.\check-secrets.ps1
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª:

```powershell
# –ü–æ–∏—Å–∫ MongoDB
Select-String -Path "–ø—É—Ç—å\–∫\—Ñ–∞–π–ª—É.ts" -Pattern "mongodb\+srv://[^:]+:[^@]+@"

# –ü–æ–∏—Å–∫ Firebase –∫–ª—é—á–µ–π
Select-String -Path "–ø—É—Ç—å\–∫\—Ñ–∞–π–ª—É.ts" -Pattern "AIzaSy[A-Za-z0-9_-]{33}"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å staged —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:

```powershell
git diff --cached | Select-String "mongodb+srv"
git diff --cached | Select-String "AIzaSy"
```

---

## üö® –ï–°–õ–ò HOOK –ù–ï –°–†–ê–ë–û–¢–ê–õ

–ò–Ω–æ–≥–¥–∞ hook –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å (Windows, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞). –¢–æ–≥–¥–∞:

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–¥ push:

```powershell
.\check-secrets.ps1
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ hook –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–π:

```powershell
# Windows - —Å–¥–µ–ª–∞–π—Ç–µ —Ñ–∞–π–ª –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–º
icacls .husky\pre-commit /grant Everyone:RX

# –ò–ª–∏ —á–µ—Ä–µ–∑ Git
git update-index --chmod=+x .husky/pre-commit
```

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ hook:

```powershell
# –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å —Å–µ–∫—Ä–µ—Ç–æ–º
echo 'const key = "AIzaSyCA0J_NCIf4ze7VjU41rEWW3s9Tsu6eQN8"' > test-secret.ts
git add test-secret.ts
git commit -m "test"
# –î–æ–ª–∂–µ–Ω –æ—Ç–∫–ª–æ–Ω–∏—Ç—å! –ï—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–∏–ª - hook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

---

## üìö –ß–ï–ö–õ–ò–°–¢ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞:

- [ ] –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `.env`
- [ ] `.env` —Ñ–∞–π–ª—ã –≤ `.gitignore`
- [ ] –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `process.env.*` –∏–ª–∏ `import.meta.env.*`
- [ ] –°–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ **–ó–ê–ú–ï–ù–ï–ù–´**:
  - [ ] MongoDB –ø–∞—Ä–æ–ª—å –∏–∑–º–µ–Ω–µ–Ω –≤ Atlas
  - [ ] Firebase API –∫–ª—é—á –∑–∞–º–µ–Ω–µ–Ω –≤ Console
  - [ ] JWT_SECRET —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –Ω–æ–≤—ã–π
- [ ] –ò—Å—Ç–æ—Ä–∏—è Git –æ—á–∏—â–µ–Ω–∞: `.\clean-git-history-fast.ps1`
- [ ] Force push –≤—ã–ø–æ–ª–Ω–µ–Ω (–ø–æ—Å–ª–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã)
- [ ] Production —Å–µ—Ä–≤–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω —Å –Ω–æ–≤—ã–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞: `.\check-secrets.ps1` ‚Üí ‚úÖ

### –†–µ–≥—É–ª—è—Ä–Ω–æ (—Ä–∞–∑ –≤ –º–µ—Å—è—Ü):

- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å: `.\check-secrets.ps1`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –≤—Å–µ –ª–∏ —Å–µ–∫—Ä–µ—Ç—ã –≤ `.env`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å: —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ pre-commit hook

---

## üîÑ –†–û–¢–ê–¶–ò–Ø –°–ï–ö–†–ï–¢–û–í (—Ä–∞–∑ –≤ 3 –º–µ—Å—è—Ü–∞)

### MongoDB:
1. MongoDB Atlas ‚Üí Database Access ‚Üí Edit Password
2. –û–±–Ω–æ–≤–∏—Ç—å `.env` –ª–æ–∫–∞–ª—å–Ω–æ
3. –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ

### Firebase:
1. Firebase Console ‚Üí Project Settings ‚Üí Add new Web App
2. –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π API –∫–ª—é—á
3. –û–±–Ω–æ–≤–∏—Ç—å `.env`
4. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### JWT:
```powershell
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ–∫—Ä–µ—Ç
$secret = -join ((65..90) + (97..122) + (48..57) | Get-Random -Count 64 | ForEach-Object {[char]$_})
echo "JWT_SECRET=$secret"
```

---

## üÜò –ï–°–õ–ò –°–ï–ö–†–ï–¢ –£–õ–ï–¢–ï–õ –í GIT

### 1. –ù–ï –ü–ê–ù–ò–ö–£–ô–¢–ï, –Ω–æ –¥–µ–π—Å—Ç–≤—É–π—Ç–µ –±—ã—Å—Ç—Ä–æ:

```powershell
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞–±–æ—Ç—É, –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É
# 2. –ò–∑–º–µ–Ω–∏—Ç–µ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ–∫—Ä–µ—Ç –ù–ï–ú–ï–î–õ–ï–ù–ù–û
# 3. –û—á–∏—Å—Ç–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é
.\clean-git-history-fast.ps1

# 4. Force push
git push origin --force --all
git push origin --force --tags

# 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ–∫—Ä–µ—Ç–æ–≤ –Ω–µ—Ç
.\check-secrets.ps1
```

### 2. –û–±–Ω–æ–≤–∏—Ç–µ production:
- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
- –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Å –Ω–æ–≤—ã–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üí° –õ–£–ß–®–ò–ï –ü–†–ê–ö–¢–ò–ö–ò

### 1. –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ .env.example:

```bash
# .env.example (–∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ Git)
VITE_FIREBASE_API_KEY=your_api_key_here
MONGODB_URI=mongodb+srv://username:password@cluster.net/db
JWT_SECRET=your_jwt_secret_here
```

### 2. –í README.md –¥–æ–±–∞–≤—å—Ç–µ:

```markdown
## Setup

1. Copy `.env.example` to `.env`
2. Fill in your actual values
3. Never commit `.env` file!
```

### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è dev/prod:

```bash
# .env.development
API_KEY=dev_key_AIza...

# .env.production (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –Ω–µ –≤ Git!)
API_KEY=prod_key_AIza...
```

### 4. –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ API –∫–ª—é—á–∏:

**Firebase:**
- Console ‚Üí Project Settings ‚Üí API keys ‚Üí Restrictions
- –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ –≤–∞—à–∏ –¥–æ–º–µ–Ω—ã

**MongoDB:**
- Atlas ‚Üí Network Access ‚Üí IP Whitelist
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 0.0.0.0/0 –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ —Å–µ–∫—Ä–µ—Ç –≤ Git:

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ** –∑–∞–º–µ–Ω–∏—Ç–µ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ–∫—Ä–µ—Ç
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `.\check-secrets.ps1` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
3. –û—á–∏—Å—Ç–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é `.\clean-git-history-fast.ps1`
4. Force push –ø–æ—Å–ª–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã

---

## ‚úÖ –ò–¢–û–ì–û

### –ß—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

1. **Pre-commit hook** - –∞–≤—Ç–æ–º–∞—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º
2. **check-secrets.ps1** - —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
3. **clean-git-history-fast.ps1** - –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –æ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤
4. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ .env —Ñ–∞–π–ª—ã** - –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã

### –¢–µ–ø–µ—Ä—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ:

- ‚ùå –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å .env —Ñ–∞–π–ª
- ‚ùå –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã
- ‚ùå –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å MongoDB –ø–∞—Ä–æ–ª–∏
- ‚ùå –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å Firebase –∫–ª—é—á–∏

### –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üõ°Ô∏è

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** ${new Date().toLocaleDateString('ru-RU')}  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç  
**–ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `.\check-secrets.ps1`
