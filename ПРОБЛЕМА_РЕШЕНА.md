# ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê: –ü–∞—Ä–æ–ª–∏ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ Git

## üî¥ –ß–¢–û –ë–´–õ–û –ù–ï –¢–ê–ö

### –ù–∞–π–¥–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ –ø–æ—á–µ–º—É –ø–∞—Ä–æ–ª–∏ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –î–í–ê–ñ–î–´:

1. **`.env.production` –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª—Å—è**
   - –í `.gitignore` –±—ã–ª –ø–∞—Ç—Ç–µ—Ä–Ω `.env.*.local`
   - –û–Ω –ù–ï –ø–æ–∫—Ä—ã–≤–∞–ª `.env.production`
   - –§–∞–π–ª –º–æ–≥ –±—ã—Ç—å —Å–ª—É—á–∞–π–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ `git add .`

2. **–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ Git hooks**
   - –ù–µ –±—ã–ª–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
   - –ú–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –ª—é–±–æ–π —Ñ–∞–π–ª —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏

3. **`.env.production` —É–∂–µ –±—ã–ª –≤ Git**
   - –§–∞–π–ª –±—ã–ª –∑–∞–∫–æ–º–º–∏—á–µ–Ω —Ä–∞–Ω–µ–µ
   - –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å–Ω–æ–≤–∞ –ø–æ–ø–∞–¥–∞–ª –≤ –∫–æ–º–º–∏—Ç—ã

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `.gitignore`
```gitignore
# –†–∞–Ω—å—à–µ (–ù–ï –†–ê–ë–û–¢–ê–õ–û):
.env.local
.env.*.local

# –°–µ–π—á–∞—Å (–†–ê–ë–û–¢–ê–ï–¢):
.env
.env.*                    # ‚Üê –ü–æ–∫—Ä—ã–≤–∞–µ—Ç –í–°–ï –≤–∞—Ä–∏–∞–Ω—Ç—ã
.env.local
.env.*.local
*.env
.env.production           # ‚Üê –Ø–≤–Ω–æ —É–∫–∞–∑–∞–Ω
.env.development
.env.staging
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Git Hooks
**–§–∞–π–ª:** `.git/hooks/pre-commit.ps1`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚ùå –ë–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç `.env`, `.env.production`, `.env.local`
- ‚ùå –°–∫–∞–Ω–∏—Ä—É–µ—Ç –∫–æ–¥ –Ω–∞ MongoDB connection strings
- ‚ùå –ò—â–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã: `password`, `secret`, `api_key`, `token`
- ‚ùå –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–ª–∏–Ω–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã (8+ —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥

**–¢–µ—Å—Ç:**
```powershell
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å —Å–µ–∫—Ä–µ—Ç–æ–º
echo "SECRET=my_password_123" > test.env

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git add test.env
git commit -m "test"

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å test.env
# üö´ –ö–û–ú–ú–ò–¢ –û–¢–ú–ï–ù–ï–ù!
```

### 3. –£–¥–∞–ª–µ–Ω `.env.production` –∏–∑ Git
```powershell
‚úÖ git rm --cached .env.production
‚úÖ –§–∞–π–ª —É–¥–∞–ª–µ–Ω –∏–∑ Git
‚úÖ –§–∞–π–ª —Ç–µ–ø–µ—Ä—å –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
‚úÖ –û—Å—Ç–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ (–Ω–µ –≤ Git)
```

## üõ°Ô∏è –ö–ê–ö –≠–¢–û –ó–ê–©–ò–©–ê–ï–¢

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ø—ã—Ç–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å .env —Ñ–∞–π–ª
```powershell
git add .env.production
git commit -m "update config"

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤...
‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å .env.production
üö´ –ö–û–ú–ú–ò–¢ –û–¢–ú–ï–ù–ï–ù!
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –°–ª—É—á–∞–π–Ω—ã–π `git add .`
```powershell
# –î–∞–∂–µ –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å
git add .

# .gitignore –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç .env —Ñ–∞–π–ª—ã
# + hook –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–∞—Ä–æ–ª—å –≤ –∫–æ–¥–µ
```javascript
// config.ts
const password = "mongodb+srv://user:pass123@cluster";

// –ü—Ä–∏ –∫–æ–º–º–∏—Ç–µ:
‚ùå –û–®–ò–ë–ö–ê: –û–±–Ω–∞—Ä—É–∂–µ–Ω —Å–µ–∫—Ä–µ—Ç –≤ config.ts
–ü–∞—Ç—Ç–µ—Ä–Ω: mongodb\+srv://[^:]+:[^@]+@
```

## üìã –¢–ï–ü–ï–†–¨ –ü–†–ò –†–ê–ë–û–¢–ï

### ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û:
```powershell
# 1. –†–∞–±–æ—Ç–∞–π—Ç–µ —Å .env –ª–æ–∫–∞–ª—å–Ω–æ
cp .env.example .env
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env - –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è

# 2. –ö–æ–º–º–∏—Ç—å—Ç–µ .env.example (—à–∞–±–ª–æ–Ω –±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤)
git add .env.example
git commit -m "update env template"

# 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ production
export MONGODB_URI="..."
```

### ‚ùå –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û:
```powershell
# –≠—Ç–æ –±–æ–ª—å—à–µ –ù–ï –°–†–ê–ë–û–¢–ê–ï–¢:
git add .env                # ‚Üê .gitignore –±–ª–æ–∫–∏—Ä—É–µ—Ç
git add .env.production     # ‚Üê .gitignore –±–ª–æ–∫–∏—Ä—É–µ—Ç
git commit (—Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏)    # ‚Üê git hook –±–ª–æ–∫–∏—Ä—É–µ—Ç
```

## üîß –ß–¢–û –î–ï–õ–ê–¢–¨ –î–ê–õ–¨–®–ï

### 1. Force push –æ—á–∏—â–µ–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏
```powershell
git push origin --force --all
git push origin --force --tags
```

### 2. –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ (–≤—Ç–æ—Ä–æ–π —Ä–∞–∑)
- MongoDB Atlas: –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
- –û–±–Ω–æ–≤–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π `backend/.env`
- –û–±–Ω–æ–≤–∏—Ç–µ production —Å–µ—Ä–≤–µ—Ä

### 3. –ù–∞ production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
export MONGODB_URI="–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å"
docker compose restart
```

### 4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ .env.production –ª–æ–∫–∞–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω
```powershell
# –§–∞–π–ª –æ—Å—Ç–∞–ª—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –æ–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ
code .env.production
# –í—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π connection string
```

## üìñ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [–ó–ê–©–ò–¢–ê_–û–¢_–£–¢–ï–ß–ï–ö.md](–ó–ê–©–ò–¢–ê_–û–¢_–£–¢–ï–ß–ï–ö.md)

–¢–∞–º –µ—Å—Ç—å:
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∑–∞—â–∏—Ç—ã
- –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª–∏ —Å–µ–∫—Ä–µ—Ç
- –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—Ç—ã

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ß–¢–û –í–°–ï –†–ê–ë–û–¢–ê–ï–¢

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É:
```powershell
# 1. .env.production –Ω–µ –≤ Git
git ls-files | Select-String ".env"
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ –∏–ª–∏ —Ç–æ–ª—å–∫–æ .env.example

# 2. .env.production –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
git check-ignore .env.production
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: .env.production

# 3. Hook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
Test-Path .git/hooks/pre-commit.ps1
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: True

# 4. –¢–µ—Å—Ç –∑–∞—â–∏—Ç—ã
echo "SECRET=test123" > test.txt
git add test.txt
git commit -m "test"
# –î–æ–ª–∂–Ω–æ: ‚ùå –û–®–ò–ë–ö–ê: –û–±–Ω–∞—Ä—É–∂–µ–Ω —Å–µ–∫—Ä–µ—Ç
git reset HEAD test.txt
rm test.txt
```

## üéØ –ò–¢–û–ì

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|----------|---------|--------|
| `.env.production` –Ω–µ –≤ `.gitignore` | –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω `.env.*` | ‚úÖ |
| –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ | –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω pre-commit hook | ‚úÖ |
| –§–∞–π–ª –±—ã–ª –≤ Git | –£–¥–∞–ª–µ–Ω —á–µ—Ä–µ–∑ `git rm --cached` | ‚úÖ |
| –ú–æ–≥—É—Ç –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã | Hook –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç | ‚úÖ |

**üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–Ω–∞! –ü–∞—Ä–æ–ª–∏ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ Git!**

---

**–î–∞—Ç–∞:** 7 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–°—Ç–∞—Ç—É—Å:** üü¢ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** Force push –∏ —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–π
